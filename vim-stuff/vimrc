set nocompatible
filetype plugin on
runtime macros/matchit.vim

set number
set ruler
set hlsearch
set ic
set nrformats=
set listchars=tab:▸\ ,eol:¬
set list
set history=200

colorscheme koehler

set tabstop=4
set softtabstop=4
set shiftwidth=4
set expandtab
set cursorline
set incsearch
set nobackup
set noswapfile

" Disable arrows to move around
nnoremap <Up> <Nop>
nnoremap <Down> <Nop>
nnoremap <Left> <Nop>
nnoremap <Right> <Nop>
inoremap <Up> <Nop>
inoremap <Down> <Nop>
inoremap <Left> <Nop>
inoremap <Right> <Nop>

" Recalling commands from history (grey box at page 69 of Practical Vim by Drew Nail)
cnoremap <C-p> <Up>
cnoremap <C-n> <Down>

" For pathogen plugin
execute pathogen#infect()
Helptags
syntax on
filetype plugin indent on

" for commentary plugin:
autocmd FileType sql set commentstring=--\ %s

set mouse=nv

nnoremap <silent> <C-l> :<C-u>nohlsearch<CR><C-l>

" Shortcuts for opening file in same directory as current file
cnoremap <expr> %% getcmdtype() == ':' ? escape(expand('%:h'), ' \').'/' : '%%'
cnoremap %% <C-R>=expand('%:h').'/'<cr>
map <leader>ew :e %%
map <leader>es :sp %%
map <leader>ev :vsp %%
map <leader>et :tabe %%

" Fix the & command in normal+visual modes
nnoremap & :&&<Enter>
xnoremap & :&&<Enter>

" The opposite of J:
:nnoremap K i<CR><Esc>

nnoremap <F7> :SyntasticToggleMode<CR>

" Set ctags stuff
set tags+=~/Desktop/vimTags/tags
map <A-]> :vsp <CR>:exec("tag ".expand("<cword>"))<CR>
nnoremap <F8> :TagbarToggle<CR>

" Debugging stuff
nnoremap <leader>db ologger.debug(":::::::::::: START ::::::::::::")
           \<cr>logger.debug()
           \<cr>logger.debug("::::::::::::  END  ::::::::::::")
           \<cr><esc>kkf(a

" Folding settings
set foldmethod=indent   "fold based on indent
set foldnestmax=10      "deepest fold is 10 levels
set nofoldenable        "dont fold by default
set foldlevel=1

" Using JsHint with Synthastic plugin
let g:syntastic_javascript_checkers = ['jshint']
